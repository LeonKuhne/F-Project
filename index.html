<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Online Visual Programming IDE for writing and connecting JS functions.">
    <meta name="author" content="leonk.dev">
    <title>F Project</title>

    <!-- syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/base16/isotope.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>

    <!-- use the lastest nodel code -->
    <link rel='stylesheet' href='https://nodel.leonk.dev/nodel.min.css'>
    <script src="https://nodel.leonk.dev/nodel.min.js"></script>

    <!-- CUSTOM STYLES -->
    <link rel="stylesheet" href='css/modules.css'>
    <link rel='stylesheet' href='css/editor.css'>
    <link rel='stylesheet' href='css/styles.css'>
    <link rel="stylesheet" href='css/shadows.css'>

    <!-- CUSTOM SCRIPTS -->
    <!-- parse -->
    <script src='src/pars/index.js'></script>
    <script src='src/pars/parser.js'></script>
    <script src='src/pars/text-parser.js'></script>
    <script src='src/pars/item-parser.js'></script>
    <!-- js parser-->
    <script src='src/pars/js/inspect.js'></script>
    <script src='src/pars/js/build.js'></script>
    <script src='src/pars/js/file-parser.js'></script>
    <script src='src/pars/js/function-parser.js'></script>
    <script src='src/pars/js/reference-parser.js'></script>
    <script src='src/pars/js/chunk-parser.js'></script>
    <script src='src/pars/js/module-parser.js'></script>
    <script src='src/pars/js/util.js'></script>
    <script src='src/pars/js/index.js'></script>
    <!-- core -->
    <script src='src/core/helper.js'></script>
    <script src='src/core/linter.js'></script>
    <script src='src/core/code-runner.js'></script>
    <script src='src/core/template.js'></script>
    <script src='src/core/module.js'></script>
    <script src='src/core/module-list.js'></script>
    <!-- manager -->
    <script src='src/ctrl/module-manager.js'></script>
    <script src='src/ctrl/node-manager.js'></script>
    <!-- ui -->
    <script src='src/view/hideable.js'></script>
    <script src='src/view/project-editor.js'></script>
    <script src='src/view/module-editor.js'></script>
    <script src='src/view/node-editor.js'></script>
    <script src='src/view/node-view.js'></script>
    <!-- main -->
    <script src='src/x.js'></script>
  </head>
  <body>

    <!-- HIDDEN -->
    <div class='hidden'>
      <input id="select-file" type='file' accept='.f'/>
      <a id="download-file" type='file'/>
    </div>

    <!-- OVERLAY -->
    <div id="overlay" class='v-flex'>
      <!-- PROJECT -->
      <div class='component v-flex'>
        <div class="title noflex">Project</div>
        <div class='h-flex'>
          <label id="import-project" for='select-file' class="shadow-accent">import</label>
          <button id="export-project" class="shadow-accent">export</button>
        </div>
      </div>

      <!-- SAVED MODULES -->
      <div class='component h-flex'>
        <div class='v-flex'>

          <!-- TEMPLATE FOR MODULES -->
          <div id="static-module" class="template module">
            <button onclick={selectModule} class="shadow-theme">{name}</button>
          </div>
          <div id="saved-module" class="template module">
            <button onclick={selectModule} class="shadow-theme">{name}</button>
            <button onclick={deleteModule} class="delete shadow-alert">X</button>
          </div>

          <!-- MODULES -->
          <div id="static-modules" class="modules">
            <div class="title">Static</div>
          </div>
          <div id="saved-modules" class="modules">
            <div class="title">Saved</div>
          </div>
        </div>
        <div class="header noflex">Modules</div>
      </div>

      <!-- NODE EDITOR -->
      <div id="editor" class="hideable h-flex component">
        <div>
          <div class="name-container">
            <div id="name" class="title hideable">None</div>
            <input id="name-input" class='hideable' />
          </div>
          <div id="code-container">
            <textarea id="code" placeholder="code" spellcheck="false"></textarea>
            <pre id="highlighting">
              <code id="code-output" class="language-js code"></code>
            </pre>
          </div>
          <div id="editor-actions">
            <button id="collapse" off="collapse" on="expand" class="shadow-accent"></button>
            <button id="run" class="shadow-accent">run</button>
            <button id="save" class="shadow-accent">save</button>
            <button id="delete" class="shadow-alert">delete</button>
          </div>
          <div id="delay-module" class="h-flex autoflex">
            <div id="delay-number" class="label">0.00s</div>
            <input id="run-delay" type="range" min="0" max="5000" class='hideable' />
            <button id="stop-run" class="shadow-alert">X</button>
          </div>
          <div id="node-result-container" class='hideable'>
            <div id="node-run-id" class='title'></div>
            <div class='h-flex'>
              <div class='label'>input:</div>
              <textarea id="node-input"></textarea>
            </div>
            <div class='h-flex'>
              <div class='label'>output:</div>
              <textarea id="node-result"></textarea>
            </div>
          </div>
          <div id="total-result-container" class='hideable'>
            <div id="total-run-id" class='title'></div>
            <div class='h-flex'>
              <textarea id="total-result"></textarea>
            </div>
          </div>
        </div>
        <div class="header noflex">Node</div>
      </div>
    </div>

    <!-- NODE VIEW -->
    <div id='nodel'>

      <!-- NODEL TEMPLATES -->
      <div id='basic' class='basic shadow-theme' select
        code="() => {
  return null
}">{name}</div>

      <div id='leaf' class='basic shadow-theme' 
        code="() => {
  // todo
}">{name}</div>

      <div id='memory' class='basic shadow-theme' 
        code="(y) => {
  if (y) {
    this.attr = y
    return undefined
  } else {
    return this.attr
  }
}">{name}</div>

    </div>
</html>
